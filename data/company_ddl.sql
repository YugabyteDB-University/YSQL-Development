drop table public.dept;
drop table emp;

create table if not exists public.dept (
  deptno integer not null,
  dname text,
  loc text,
  description text,
  constraint pk_dept primary key (deptno asc)
);

create table if not exists emp (
  empno integer generated by default as identity (start with 10000) not null,
  ename text not null,
  job text,
  mgr integer,
  hiredate date,
  sal integer,
  comm integer,
  deptno integer not null,
  email text,
  other_info jsonb,
  constraint pk_emp primary key (empno hash),
  constraint emp_email_uk unique (email),
  constraint emp_email_check check (
    (
      email ~ '^[a-za-z0-9.!#$%&''*+/=?^_`{|}~-]+@[a-za-z0-9](?:[a-za-z0-9-]{0,61}[a-za-z0-9])?(?:\.[a-za-z0-9](?:[a-za-z0-9-]{0,61}[a-za-z0-9])?)*$'::text
    )
  )
);